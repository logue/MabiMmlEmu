<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Access-Control-Allow-Origin" content="*" />
    <meta http-equiv="Access-Control-Allow-Methods" content="GET" />
    <meta http-equiv="Access-Control-Allow-Headers" content="*" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="noindex" />
    <meta name="color-scheme" content="light dark" />
    <title>Web Midi Link</title>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-2Y2FW3QEG4"
    ></script>
    <!-- Google Tag Manager -->
    <script type="module">
      if (import.meta.env.VITE_GOOGLE_ANALYTICS_ID) {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', import.meta.env.VITE_GOOGLE_ANALYTICS_ID);
      }
    </script>
  </head>

  <body>
    <div class="container-fluid">
      <main>
        <div id="placeholder"></div>
      </main>
    </div>
    <script type="module">
      import SoundFont from '@logue/sf2synth';
      import '@logue/sf2synth/dist/style.css';

      /** sf2synth.js Option */
      const options = {
        // Show Keyboard
        drawSynth: true,
        // Target dom id
        placeholder: 'placeholder',
        // Color Mode (auto, dark, light)
        colorMode: 'auto',
      };

      console.log(options);

      document.addEventListener(
        'DOMContentLoaded',
        event => {
          /** @type {typeof import("./src/wml").WebMidiLink } WebMidiLink */
          const wml = new SoundFont.WebMidiLink(options);
          wml.setup(import.meta.env.VITE_SOUNDFONT_URL);
        },
        false
      );
    </script>
  </body>
</html>
